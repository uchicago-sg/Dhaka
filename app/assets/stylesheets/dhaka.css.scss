// @import 'compass/reset';
@import 'shared';



// Specials...
#patricia-muller-email {
  background-color: #eee;
  border: 1px solid #ccc;
  margin: 0.5em 1em;
  padding: 1em;

  br {
    padding: 0.5em 0;
  }
}



.container .container, .container .container > * { padding: 0; }
.row .row { min-width: 0; }

.serif { @include serif; }
.sans-serif, body { @include sans-serif; }

h1 { font-size: 2em; }
h2 { font-size: 1.75em; }
h3 { font-size: 1.5em; }
h4 { font-size: 1.25em; }
h5 { font-size: 1em; }
h6 { font-size: 0.75em; }

h1, h2, h3, h4, h5, h6 { line-height: 1.25em; }

i, em { font-style: italic; }

b, strong, em { font-weight: bold; }

nav ul, footer ul { list-style-type : none; }

a {
  color: $blue;
  text-decoration: none;
  &:visited { color: $purple; }
  &:hover { color: $green; }
  &:active { color: $red; }
  &:hover, &:active { text-decoration: underline; }
}


html {
  font-size: 12px;
  line-height: 18px;
}

body {
  font-size: 1.2em;
  line-height: 1.5em;
  font-weight: normal;
  margin-bottom: 2.5em;
}



#system-notification {
  display: none;
  color: black;
  margin-bottom: 1em;
  background-color: $yellow;
  text-align: center;
  p { padding: 0.4em; }
}

#dismiss-system-notification {
  font-size: 0.75em;
  font-family: 'Monaco', 'Menlo', 'Andale Mono', "Courier New", 'Courier', monospace;
  margin-left: 1em;
}


#splash {
  text-align: justify;
  max-width: 400px;
  padding: 1em;

  h1, h2 {
    text-align: center;
    line-height: 1.5em;
    @include kreon;
  }

  h2 {
    font-size: 1.15em;
    padding-bottom: 0.5em;
  }

  p {
    clear: both;
    padding: 0.5em 0;
  }
}



body > header {
  h1, h2, h3, h4, h5, h6 { @include kreon; }

  > h1 {
    color: black;
    font-weight: bold;
    font-size: $header-size;
    line-height: 1.25em;
    letter-spacing: -0.05em;
    margin-bottom: 0.1em;
    text-align: center;
    text-shadow: rgba(#000, 0.07) 0 0 0.15em;

    a {
      color: black !important;
      text-decoration: none !important;
      @include transition-preset-link;
      &:hover { color: $green !important; }
    }
  }
}

#top { margin-top: 1em; }


#content {
  clear: both;
  text-align: left;

  .devise-links {
    margin-top: 1em;
  }

  h1, h2, h3, h4, h5, h6 {
    line-height: 1.5em;
    font-weight: bold;
  }

  .field, .subfield {
    display: block;
    padding: 0.25em 0;
    margin-bottom: 0.25em;
  }

  thead .field, thead .subfield { padding: 0; }
}

#sidebar, #main {
  margin-top: 0.75em;
  margin-bottom: 1em;

  .actions, .devise-links, .categories {
    list-style: none !important;
    ol, ul, li { margin-left: 0 !important; }
  }
}

#sidebar {
  font-size: 0.85em;

  ul + ul, ul + form { margin-top: 1em; }

  > .categories, > .pages, > .actions, > .administration {
    background-color: $yellow;

    a {
      display: block;
      padding: 0.1em 0.7em;
      &:hover { background-color: darken($yellow, 10%); }
    }

    li:first-child a { border-top: 0; }

    .selected a {
      font-weight: bold;
      color: white !important;
      text-decoration: none;
      cursor: default;
      background-color: lighten($blue, 20%);
    }
  }

  a {
    &:visited { color: $blue; }
    &:hover { color: $red; }
    &:active { color: $green; }
  }

  > .actions {
    a {
      background-color: lighten($lgreen, 10%);
      &:hover { background-color: $lgreen; }
    }

    .selected a {
      background-color: lighten($rust, 15%) !important;
    }
  }


  > .administration {
    a {
      background-color: lighten($blue, 49%);
      &:hover { background-color: lighten($blue, 40%); }
    }

    .selected a {
      background-color: lighten($plum, 35%);
    }
  }


  form .actions {
    display: inline-block;
    width: 100%;
    clear: both;
    text-align: right;

    .save { padding-right: 0.25em; }
  }
}

#main .pagination {
  text-align: center;
  line-height: 2em;
}

#main ol, #main ul {
  list-style: disc outside none;

  ol, ul, li { margin-left: 1.5em; }
}

.explanation {
  margin-bottom: 1em;
}


body > footer {
  color: #666;
  padding-top: 0.5em;
  margin-top: 0.5em;
  text-align: center;
  border-top: 1px solid #ccc;
  font-size: 0.8em;
  list-style-type: none;
}


#debug {
  color: white;
  background-color: $blue;
  font-family: Monaco, courier, fixed;
  margin-top: 1em;
  pre { padding: 1em; }
}



.listing .price {
  font-weight: bold;
  color: lighten($green, 10%);
}

#simple_search {
  background-color: #f6f6f6;
  padding: 0.5em 0;
  text-align: left;
  font-size: 12px;
}

.reminder {
  margin-bottom: 1em;
  padding: 1em 1em 0.25em;
  background-color: $yellow;
}

#listings-browser, #users-browser {
  width: 100%;
  thead { display: none; }
  tr, td { display: block; }
  td.created_at, td.price { text-align: right; }

  .images-message { display: inline; }
  .images-answer  { display: none; }

  tr.config {
    float: left;
    width: 100%;
    border: 0;
    margin-bottom: 0.5em;
    clear: both;

    .field { display: inline !important; }

    td {
      float: right;
      width: 100%;
    }

    .order { text-align: right; }
  }

  tr.listing, tr.user {
    padding-top: 0.75em;
    padding-bottom: 0.75em;

    &:nth-child(odd) { background-color: #f6f6f6; }

    &.signed { background-color: lighten($blue, 50%); }

    .description_and_details {
      text-align: left;
      color: #333;
    }

    .description {
      font-weight: bold;
      line-height: 24px;
      a         { color: black; }
      a:visited { color: $purple; }
      a:hover   { color: $green; text-decoration: underline; }
      a:active  { color: $red; }
    }

    .extras { display: none; }

    .starred a {
      background: image-url('star.png') left top no-repeat;
      height: 20px;
      width: 20px;
      margin: 0 0.5em;
      display: none;
      text-indent: 10000%;
      overflow: hidden;
      &.available { display: block; }
    }

    .starred a:hover, .starred a:active { background-position: 0 -20px; }
    .starred a.unstar { background-position: 0 -40px; }

    .actions, .toggle { font-size: 0.9em; margin-top: 0.25em; }
    .toggle { text-align: right; }

    .actions, .actions + .toggle {
      display: inline-block;
      float: left;
      width: 50%;
    }
  }

  tr.expired * { color: #999 !important; }

  tr.compact .actions {
    width: 100%;

    li {
      display: inline-block;
      & + li { padding-left: 0.25em; }
    }
  }
}

#pages #about * + h2 {
  border-top: 1px solid #ccc;
  margin-top: 0.5em;
  padding-top: 0.25em;
}

article {
  header p { margin: 0.25em 0; }
  .details p + ul { margin-top: 0.5em; }
  .details p + p { margin-top: 1em; }
}

body > footer, body > header {
  a {
    color: $blue;
    text-decoration: none;
    &, &:visited { color: $blue; }
    &:hover { color: $green; }
    &:active { color: $red; }
    &:hover, &:active { text-decoration: underline; }
  }
}



@media all and (max-width: 480px) {
  #uvTab, #user-toolbar .show { display: none !important; }

  article {
    h1, h2, h3, h4, h5, h6 { text-align: center; }
  }
}

@media all and (min-width: 481px) and (max-width: 900px) {
  body > header h1 {
    font-size: $smaller-header-size;
  }
}


@media all and (max-width: 767px) {
  // There's still some rendering issue in Chrome, but alas...
  #simple_search {
    .label, .input {
      display: block;
      float: left;
      width: 30%;
    }

    .label { text-align: right; padding-right: 1.5%; }
    .input { width: 68%; }

    .actions {
      padding-top: 0.5em;
      li { float: right; }
      .submit { margin: 0 0.25em 0.25em; }
    }
  }

  #simple_search .advanced { text-align: right; }

  #user-toolbar, body > header, #top .ninecol.last { text-align: center; }

  #user-toolbar { margin-bottom: 1em; }

  h2.sorry { text-align: center; }

  #sidebar ul.categories, #sidebar ul.pages { display: none; }

  #categories.index #main ul.categories { text-align: center; }

  #listings-browser {
    tr.listing .starred a {
      text-indent: 0 !important;
      background-image: image-url('star_small.png') !important;
      background-position: 0 0;
      padding-left: 20px;
      margin-left: 0 !important;
      &.available { display: inline !important; }
      &:hover, &:active { background-position: 0 -16px; }
      &.unstar { background-position: 0 -32px; }
    }

    .seller { text-align: right; }
    .description_and_details > div { width: 100%; }
    tr + tr { margin-top: 1em; }
  }
}


@media all and (min-width: 768px) {
  #listings-browser .images-message { display: none; }
  #listings-browser .images-answer  { display: inline; }

  #simple_search {
    margin-top: 0.75em;

    .label, .input {
      display: inline;
    }

    #search_keywords, #search_categories, .actions {
      padding-right: 1%;
      display: inline-block;
      float: left;
      margin: 0;

      label { display: none; }
      input, select { width: 100%; }
    }

    #search_keywords   { width: 45.5%; padding-left: 1.5%; padding-right: 2%; }
    #search_categories { width: 19%; }

    .actions {
      width: 30%;

      .submit, .advanced {
        display: inline-block;
        float: left;
        width: 32%;
      }

      .advanced { text-align: right; width: 68%; }
    }
  }

  #listings-browser, #users-browser {
    thead {
      display: table-header-group;

      tr {
        background-color: white;
        border-bottom: 1px solid #ccc;

        td {
          font-size: 1em;
          line-height: 1.75em;
          font-weight: bold;
        }
      }
    }

    tr.listing {
      padding-top: 0.5em;
      padding-bottom: 0.5em;
      & + .listing { border-top: 1px solid #ddd; }
    }
  }

  body > footer {
    text-align: left;
    #links { text-align: right; }

    li {
      display: inline-block;
      margin-left: 0.5em;
    }
  }
}